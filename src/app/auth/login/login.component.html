<h2 class="header">Sign In to your account</h2>

<div 
    class="message message-{{ message.type }}"
    *ngIf="message.text"
>
    {{message.text}}
</div>

<form
    class="input"
    [formGroup]="form"
    (ngSubmit)="onSubmit()">

    <div 
        class="form-group"
        [ngClass]="{'has-error': form.get('email').invalid && form.get('email').touched}"
    >
        <mat-form-field class="form-control">
            <input 
                id="email" 
                class="input-email" 
                matInput type="text" 
                placeholder="Email"
                formControlName="email"
            >
        </mat-form-field>

        <span
            class="form-help-text"
            *ngIf="form.get('email').invalid && form.get('email').touched"
        >
            <span *ngIf="form.get('email')['errors']['required']">Email can't by empty.</span>
            <span *ngIf="form.get('email')['errors']['email']">Enter a valid email.</span>
        </span>
    </div>

    <div
        class="form-group"
        [ngClass]="{'has-error': form.get('password').invalid && form.get('password').touched}"
    >
        <mat-form-field class="input-password form-control">
            <input
                id="password"
                class="input-password"
                matInput type="password" 
                placeholder="Password"
                formControlName="password"
            >
        </mat-form-field>

        <span
            class="form-help-text"
            *ngIf="form.get('password').invalid && form.get('password').touched"
        >
            <span *ngIf="form.get('password')['errors']['required']">Password can't by empty.</span>
            <span *ngIf="form.get('password')['errors']['minlength'] && form.get('password')['errors']['minlength']['requiredLength']">
            Password must be more than 
            {{ form.get('password')['errors']['minlength']['requiredLength'] }} 
            characters. Now {{ form.get('password')['errors']['minlength']['actualLength'] }}.</span>
        </span>
    </div>

    <div class="checkbox-container form-group">
        <mat-checkbox
            type="checkbox"
            class="checkbox"
            formControlName="rememberme"
        >
            Remember Me
        </mat-checkbox>
        <a class="forgot" href="/">Forgot Password?</a>
    </div>

    <mat-card-actions class="buttons">


        <button 
            type="submit" 
            mat-button class="button__item button"
            [disabled]="form.invalid"
        >
            Sign in
        </button>

        <div class="or">
            <hr class="or-line"/>
            <p class="or-text">or</p>
            <hr class="or-line"/>
        </div>

        <button mat-button class="button__item button-facebook"><img class="facebook-svg" alt="" src="" />Sign in with facebook</button>
        <button mat-button class="button__item button-gmail"><img class="gmail-svg" alt="" src="" />Sign in with gmail</button>
    </mat-card-actions>

    <p class="router">
        Don't have an account?
        <a 
            class="router__link" 
            [routerLink]="'/registration'"
        >
            Create an account
        </a>
    </p>
</form>