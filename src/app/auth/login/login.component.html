<h2 class="header">Sign In to your account</h2>

<form
    class="form"
    [formGroup]="loginForm"
    (ngSubmit)="onSubmit()"
>

    <app-alert class="message"></app-alert>


    <div 
        class="form-group"
        [ngClass]="{'has-error': loginForm.get('email').invalid && loginForm.get('email').touched && email.errors}"
    >
        <mat-form-field class="form-control">
            <input 
                id="email" 
                class="input-email" 
                matInput type="text" 
                placeholder="Email"
                formControlName="email"
            >
        </mat-form-field>

        <span
            class="form-help-text"
            *ngIf="loginForm.get('email').invalid && loginForm.get('email').touched"
        >
            <span *ngIf="loginForm.get('email')['errors']['required']">Email can't by empty.</span>
            <span *ngIf="loginForm.get('email')['errors']['email']">Enter a valid email.</span>
        </span>
    </div>

    <div
        class="form-group"
        [ngClass]="{'has-error': loginForm.get('password').invalid && loginForm.get('password').touched}"
    >
        <mat-form-field class="input-password form-control">
            <input
                id="password"
                class="input-password"
                matInput type="password" 
                placeholder="Password"
                formControlName="password"
            >
        </mat-form-field>

        <span
            class="form-help-text"
            *ngIf="loginForm.get('password').invalid && loginForm.get('password').touched"
        >
            <span *ngIf="loginForm.get('password')['errors']['required']">Password can't by empty.</span>
            <span *ngIf="loginForm.get('password')['errors']['minlength'] && loginForm.get('password')['errors']['minlength']['requiredLength']">
            Password must be more than 
            {{ loginForm.get('password')['errors']['minlength']['requiredLength'] }} 
            characters. Now {{ loginForm.get('password')['errors']['minlength']['actualLength'] }}.</span>
        </span>
    </div>

    <!-- <div class="checkbox-forgot form-group">
        <mat-checkbox
            type="checkbox"
            class="checkbox"
            formControlName="rememberme"
        >
            Remember Me
        </mat-checkbox>
        <a class="forgot-link" href="/">Forgot Password?</a>
    </div> -->

    <mat-card-actions class="buttons form-group">


        <button 
            type="submit" 
            color="primary"
            mat-raised-button
            class="button__item button"
            [disabled]="loginForm.invalid"
        >
            Sign in
        </button>
        

        <!-- <div class="or">
            <hr class="or-line"/>
            <p class="or-text">or</p>
            <hr class="or-line"/>
        </div>

        <button mat-button class="button__item button-facebook"><img class="facebook-svg" alt="" src="" />Sign in with facebook</button>
        <button mat-button class="button__item button-gmail"><img class="gmail-svg" alt="" src="" />Sign in with gmail</button> -->
    </mat-card-actions>

    <p class="router form-group">
        Don't have an account?
        <a 
            class="router__link" 
            [routerLink]="'/registration'"
        >
            Create an account
        </a>
    </p>
</form>